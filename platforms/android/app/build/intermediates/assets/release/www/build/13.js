webpackJsonp([13],{668:function(n,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var e=t(2),u=(t(0),t(58),t(77),function(){function n(n,l,t,e,u){this.navCtrl=n,this.navParams=l,this.storage=t,this.alertCtrl=e,this.http=u,this.user={member:{},role:{},members:[],roles:[]}}return n.prototype.ionViewWillEnter=function(){var n=this.storage.read("user",{member:{}});n&&n.roles&&n.members||this.http.get("sys/findUserById.do").subscribe(function(l){l.id&&(n=l)}),n&&(n.member||(n.member={}),n.role||(n.role={}),this.user=n,this.storage.write("user",n))},n.prototype.changePosition=function(){var n=this,l=this.alertCtrl.create();l.setTitle("岗位"),this.user.roles.forEach(function(t){l.addInput({type:"radio",label:t.name,value:t.id,checked:t.id==n.user.role.id})}),l.addButton("取消"),l.addButton({text:"切换",handler:function(t){return t==n.user.role.id||(n.http.postFormData("school/updateMajorRole.do",{roleId:t}).subscribe(function(t){n.user.role=t.role,n.storage.write("user",n.user),n.http.showError("主岗位切换成功"),l.dismiss()}),!1)}}),l.present()},n.prototype.changeIdentity=function(){var n=this,l=this.alertCtrl.create();l.setTitle("身份"),this.user.members.forEach(function(t){l.addInput({type:"radio",label:t.name,value:t.id,checked:t.id==n.user.member.id})}),l.addButton("取消"),l.addButton({text:"切换",handler:function(t){return t==n.user.member.id||(n.http.postFormData("school/updateMajorMember.do",{memberId:t}).subscribe(function(t){n.user.member=t.member,n.storage.write("user",n.user),n.http.showError("主身份切换成功"),l.dismiss()}),!1)}}),l.present()},n}()),a=(t(695),function(){return function(){}}()),i=t(352),r=t(353),o=t(354),s=t(355),c=t(356),d=t(357),m=t(358),h=t(359),p=t(360),_=t(111),f=t(3),b=t(7),v=t(361),g=t(36),y=t(12),k=t(28),Y=t(362),j=t(78),Z=t(53),w=t(363),E=t(30),I=t(6),z=t(13),P=t(33),C=t(59),L=t(10),M=t(182),N=t(691),R=t(113),x=t(25),B=t(22),D=t(54),V=t(79),F=t(16),O=t(114),S=t(123),W=t(112),q=e.X({encapsulation:2,styles:[],data:{}});function A(n){return e._22(0,[(n()(),e._20(-1,null,["\n"])),(n()(),e.Z(1,0,null,null,10,"ion-header",[],null,null,null,null,null)),e.Y(2,16384,null,0,_.a,[f.a,e.j,e.z,[2,b.a]],null,null),(n()(),e._20(-1,null,["\n\n    "])),(n()(),e.Z(4,0,null,null,6,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,v.b,v.a)),e.Y(5,49152,null,0,g.a,[y.a,[2,b.a],[2,k.a],f.a,e.j,e.z],null,null),(n()(),e._20(-1,3,["\n        "])),(n()(),e.Z(7,0,null,3,2,"ion-title",[],null,null,null,Y.b,Y.a)),e.Y(8,49152,null,0,j.a,[f.a,e.j,e.z,[2,Z.a],[2,g.a]],null,null),(n()(),e._20(-1,0,["个人资料"])),(n()(),e._20(-1,3,["\n    "])),(n()(),e._20(-1,null,["\n\n"])),(n()(),e._20(-1,null,["\n\n"])),(n()(),e.Z(13,0,null,null,56,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,w.b,w.a)),e.Y(14,4374528,null,0,E.a,[f.a,I.a,z.a,e.j,e.z,y.a,P.a,e.u,[2,b.a],[2,k.a]],null,null),(n()(),e._20(-1,1,["\n    "])),(n()(),e.Z(16,0,null,1,26,"ion-list",[["class","mtop"]],null,null,null,null,null)),e.Y(17,16384,null,0,C.a,[f.a,e.j,e.z,I.a,L.l,z.a],null,null),(n()(),e._20(-1,null,["\n        "])),(n()(),e.Z(19,0,null,null,10,"ion-item",[["auth","true"],["class","item item-block"],["link","my/updateName"],["tappable",""]],null,null,null,M.b,M.a)),e.Y(20,81920,null,0,N.a,[e.j,k.a,R.a],{url:[0,"url"],auth:[1,"auth"]},null),e.Y(21,1097728,null,3,x.a,[B.a,f.a,e.j,e.z,[2,D.a]],null,null),e._18(335544320,1,{contentLabel:0}),e._18(603979776,2,{_buttons:1}),e._18(603979776,3,{_icons:1}),e.Y(25,16384,null,0,V.a,[],null,null),(n()(),e._20(-1,2,["\n            姓名\n            "])),(n()(),e.Z(27,0,null,4,1,"div",[["class","item-end"],["item-end",""]],null,null,null,null,null)),(n()(),e._20(28,null,["",""])),(n()(),e._20(-1,2,["\n        "])),(n()(),e._20(-1,null,["\n        "])),(n()(),e.Z(31,0,null,null,10,"ion-item",[["auth","true"],["class","item item-block"],["link","my/updateMobile"],["tappable",""]],null,null,null,M.b,M.a)),e.Y(32,81920,null,0,N.a,[e.j,k.a,R.a],{url:[0,"url"],auth:[1,"auth"]},null),e.Y(33,1097728,null,3,x.a,[B.a,f.a,e.j,e.z,[2,D.a]],null,null),e._18(335544320,4,{contentLabel:0}),e._18(603979776,5,{_buttons:1}),e._18(603979776,6,{_icons:1}),e.Y(37,16384,null,0,V.a,[],null,null),(n()(),e._20(-1,2,["\n            手机\n            "])),(n()(),e.Z(39,0,null,4,1,"div",[["class","item-end"],["item-end",""]],null,null,null,null,null)),(n()(),e._20(40,null,["",""])),(n()(),e._20(-1,2,["\n        "])),(n()(),e._20(-1,null,["\n    "])),(n()(),e._20(-1,1,["\n\n    "])),(n()(),e.Z(44,0,null,1,24,"ion-list",[["class","m5"]],null,null,null,null,null)),e.Y(45,16384,null,0,C.a,[f.a,e.j,e.z,I.a,L.l,z.a],null,null),(n()(),e._20(-1,null,["\n        "])),(n()(),e.Z(47,0,null,null,9,"ion-item",[["class","item item-block"],["tappable",""]],null,[[null,"click"]],function(n,l,t){var e=!0;"click"===l&&(e=!1!==n.component.changeIdentity()&&e);return e},M.b,M.a)),e.Y(48,1097728,null,3,x.a,[B.a,f.a,e.j,e.z,[2,D.a]],null,null),e._18(335544320,7,{contentLabel:0}),e._18(603979776,8,{_buttons:1}),e._18(603979776,9,{_icons:1}),e.Y(52,16384,null,0,V.a,[],null,null),(n()(),e._20(-1,2,["\n            身份\n            "])),(n()(),e.Z(54,0,null,4,1,"div",[["class","item-end"],["item-end",""]],null,null,null,null,null)),(n()(),e._20(55,null,["",""])),(n()(),e._20(-1,2,["\n        "])),(n()(),e._20(-1,null,["\n        "])),(n()(),e.Z(58,0,null,null,9,"ion-item",[["class","item item-block"],["tappable",""]],null,[[null,"click"]],function(n,l,t){var e=!0;"click"===l&&(e=!1!==n.component.changePosition()&&e);return e},M.b,M.a)),e.Y(59,1097728,null,3,x.a,[B.a,f.a,e.j,e.z,[2,D.a]],null,null),e._18(335544320,10,{contentLabel:0}),e._18(603979776,11,{_buttons:1}),e._18(603979776,12,{_icons:1}),e.Y(63,16384,null,0,V.a,[],null,null),(n()(),e._20(-1,2,["\n            岗位\n            "])),(n()(),e.Z(65,0,null,4,1,"div",[["class","item-end"],["item-end",""]],null,null,null,null,null)),(n()(),e._20(66,null,["",""])),(n()(),e._20(-1,2,["\n        "])),(n()(),e._20(-1,null,["\n    "])),(n()(),e._20(-1,1,["\n"]))],function(n,l){n(l,20,0,"my/updateName","true");n(l,32,0,"my/updateMobile","true")},function(n,l){var t=l.component;n(l,4,0,e._13(l,5)._hidden,e._13(l,5)._sbPadding),n(l,13,0,e._13(l,14).statusbarPadding,e._13(l,14)._hasRefresher),n(l,28,0,t.user.name),n(l,40,0,t.user.phone),n(l,55,0,t.user.member.name),n(l,66,0,t.user.role.name)})}var T=e.V("page-user-info",u,function(n){return e._22(0,[(n()(),e.Z(0,0,null,null,1,"page-user-info",[],null,null,null,A,q)),e.Y(1,49152,null,0,u,[k.a,F.a,O.a,S.a,W.a],null,null)],null,null)},{},{},[]),U=t(19),J=t(27),X=t(690),G=t(181),H=t(52);t.d(l,"UserInfoModuleNgFactory",function(){return K});var K=e.W(a,[],function(n){return e._10([e._11(512,e.i,e.S,[[8,[i.a,r.a,o.a,s.a,c.a,d.a,m.a,h.a,p.a,T]],[3,e.i],e.s]),e._11(4608,U.k,U.j,[e.r,[2,U.s]]),e._11(4608,J.t,J.t,[]),e._11(4608,J.d,J.d,[]),e._11(512,X.a,X.a,[]),e._11(512,U.b,U.b,[]),e._11(512,J.r,J.r,[]),e._11(512,J.g,J.g,[]),e._11(512,J.o,J.o,[]),e._11(512,G.a,G.a,[]),e._11(512,G.b,G.b,[]),e._11(512,a,a,[]),e._11(256,H.a,u,[])])})},690:function(n,l,t){"use strict";t.d(l,"a",function(){return e});t(0),t(691);var e=function(){return function(){}}()},691:function(n,l,t){"use strict";t.d(l,"a",function(){return e});t(0),t(58),t(77);var e=function(){function n(n,l,t){this.elm=n,this.navCtrl=l,this.globalData=t}return n.prototype.ngOnInit=function(){this.elm.nativeElement.addEventListener("click",this.gotoPage.bind(this))},n.prototype.gotoPage=function(){this.url&&(this.auth&&!this.globalData.token?this.navCtrl.push("login",this.params||{},{animate:!0}):this.url.startsWith("http")||this.navCtrl.push(this.url,this.params||{},{animate:!0,duration:200}))},n}()},692:function(n,l,t){"use strict";t.d(l,"a",function(){return e});t(0),t(693),t(694);var e=function(){return function(){}}()},693:function(n,l,t){"use strict";t.d(l,"a",function(){return e});t(0);var e=function(){function n(n){this.elm=n}return n.prototype.ngAfterViewInit=function(){},n.prototype.onMaskClick=function(){this.hideRoleList()},n.prototype.onRoleClick=function(){this.hideRoleList()},n.prototype.hideRoleList=function(){var n=this.elm.nativeElement.querySelector(".role-list-box");n&&(n.style.display="none")},n}()},694:function(n,l,t){"use strict";t.d(l,"a",function(){return e});t(0);var e=function(){function n(n){this.elm=n}return n.prototype.ngAfterViewInit=function(){},n.prototype.showRoleList=function(){var n=this.getParentEl();if(n){var l=n.querySelector(".role-list-box");l&&(l.style.display="block")}},n.prototype.getParentEl=function(){for(var n=this.elm.nativeElement;-1==n.className.indexOf("user-wrap")&&n.parentNode&&n.parentNode!=document;)n=n.parentNode;return n},n}()},695:function(n,l,t){"use strict";t(692),t(690)}});