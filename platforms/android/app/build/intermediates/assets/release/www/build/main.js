webpackJsonp([36],{112:function(t,e,n){"use strict";n.d(e,"a",function(){return r});n(0);var o=n(141),a=(n(58),n(372)),l=(n.n(a),n(323)),i=(n.n(l),n(158)),r=(n(113),n(55),n(114),function(){function t(t,e,n,o,a){this.http=t,this.toastCtrl=e,this.nativeService=n,this.globalData=o,this.storageService=a}return e=t,t.prototype.request=function(t,n){var l=this;return t=e.replaceUrl(t),n.headers?(n.headers.append("Authentication","*"),n.headers.append("X-Requested-With","*"),n.headers.append("token",this.globalData.token)):n.headers=new o.d({token:this.globalData.token,Authentication:"*","X-Requested-With":"*"}),a.Observable.create(function(e){console.log("%c 请求前 %c","color:blue","","url",t,"options",n),l.http.request(t,n).subscribe(function(o){console.log("%c 请求成功 %c","color:green","","url",t,"options",n,"res",o);var a=o.headers.get("code");if(console.log("header==>",o.headers.toJSON()),console.log("code===>"+a),a)if("1000"==a)l.showError("未登录");else if("0"!=a){e.error();var i=o.headers.get("msg");l.showError(i?decodeURIComponent(i):"系统异常")}else e.next(o.json());else e.next(o.json())},function(e){l.handleError(t,n,e)})})},t.prototype.get=function(t,n){return void 0===n&&(n=null),this.request(t,new o.h({method:o.g.Get,search:e.buildURLSearchParams(n)}))},t.prototype.post=function(t,e){return void 0===e&&(e=null),this.request(t,new o.h({method:o.g.Post,body:e,headers:new o.d({"Content-Type":"application/json; charset=UTF-8"})}))},t.prototype.postFormData=function(t,n){return void 0===n&&(n=null),this.request(t,new o.h({method:o.g.Post,params:e.buildURLSearchParams(n),headers:new o.d({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"})}))},t.prototype.put=function(t,e){return void 0===e&&(e=null),this.request(t,new o.h({method:o.g.Put,body:e}))},t.prototype.delete=function(t,n){return void 0===n&&(n=null),this.request(t,new o.h({method:o.g.Delete,search:e.buildURLSearchParams(n).toString()}))},t.prototype.patch=function(t,e){return void 0===e&&(e=null),this.request(t,new o.h({method:o.g.Patch,body:e}))},t.prototype.head=function(t,n){return void 0===n&&(n=null),this.request(t,new o.h({method:o.g.Head,search:e.buildURLSearchParams(n).toString()}))},t.prototype.options=function(t,n){return void 0===n&&(n=null),this.request(t,new o.h({method:o.g.Options,search:e.buildURLSearchParams(n).toString()}))},t.prototype.handleError=function(t,e,n){var o=n.status,a=null;if(console.log("handleError:status====>",o),500==o){var l=n.headers,i=l.get("code");console.log("handleError:code====>",i),i&&"0"!=i&&("1001"==i?this.storageService.remove("user"):(a=l.get("msg"))&&(a=decodeURIComponent(a))),a||(a="系统异常")}a&&this.showError(a)},t.prototype.showError=function(t){void 0===t&&(t="网络不给力"),this.nativeService.showToast(t)},t.replaceUrl=function(t){return-1==t.indexOf("http://")&&(t=i.a+t),"http://"+t.substring(7).replace(/\/\//g,"/")},t.buildURLSearchParams=function(t){var e=new o.j;if(!t)return e;for(var n in t){e.set(n,t[n])}return e},t;var e}())},113:function(t,e,n){"use strict";n.d(e,"a",function(){return o});n(0);var o=function(){function t(){}return Object.defineProperty(t.prototype,"user",{get:function(){return this._user},set:function(t){this._user=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"token",{get:function(){return this._user?this._user.token:null},enumerable:!0,configurable:!0}),t}()},114:function(t,e,n){"use strict";n.d(e,"a",function(){return a});n(0);var o=n(152),a=(n.n(o),function(){function t(){}return t.prototype.write=function(t,e){e&&(e=JSON.stringify(e)),localStorage.setItem(t,e)},t.prototype.read=function(t,e){void 0===e&&(e=null);var n=localStorage.getItem(t);return n&&"undefined"!=n&&"null"!=n?JSON.parse(n):e},t.prototype.readArr=function(t){var e=localStorage.getItem(t);return e&&"undefined"!=e&&"null"!=e?JSON.parse(e):null},t.prototype.remove=function(t){localStorage.removeItem(t)},t.prototype.clear=function(){localStorage.clear()},t}())},158:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return l}),n.d(e,"b",function(){return i});var o="http://119.29.207.161:9000/ciwap/",a="1001",l="湘潭江声实验学校",i="app/version.json"},163:function(t,e,n){"use strict";n.d(e,"a",function(){return o});n(0),n(164);var o=function(){function t(t){this.sqlite=t}return t.prototype.createTable=function(){var t=this;this.sqlite.create({name:"school.db",location:"default"}).then(function(e){t.db=e,e.executeSql("\n                CREATE TABLE IF NOT EXISTS group_info (id BIGINT primary key, eid varchar(50), name varchar(50), image varchar(100));\n                CREATE TABLE IF NOT EXISTS user_info (id BIGINT primary key, eid varchar(50), name varchar(20), image varchar(100));\n            ",{}).then(function(){console.log("=====create table=====")}).catch(function(t){return console.error("create table failure====>"+t,t)})}).catch(function(t){console.log("create db failure===>"+t,t)})},t.prototype.executeUpdate=function(t,e){this.db&&this.db.executeSql(t,e).then()},t.prototype.executeBatch=function(t,e){if(this.db){var n=[];e.forEach(function(e){n.push([t,e])}),this.db.sqlBatch(n)}},t.prototype.executeQuery=function(t,e){var n=this;return new Promise(function(o){n.db&&n.db.executeSql(t,e).then(function(t){if(1==t.rows.length)o(t.rows.item(0));else if(t.rows.length){for(var e=[],n=0;n<t.rows.length;n++)e.push(t.rows.item(n));o(e)}})})},t.prototype.getUserByEid=function(t){return this.executeQuery("select * from user_info where eid = ?",[t])},t.prototype.getGroupByEid=function(t){return this.executeQuery("select * from group_info where eid = ?",[t])},t}()},192:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});n(0),n(58),n(77);var o=function(){function t(t,e,n,o,a){this.navCtrl=t,this.navParams=e,this.chatService=n,this.cd=o,this.popoverCtrl=a,this.publicTalks=[],this.talks=[],this.publicTalks=[{id:"sys_1",image:"assets/images/talk/msg.png",name:"系统消息",content:"今日高温补贴已发",time:"13:44"},{id:"sys_2",image:"assets/images/talk/notice.png",name:"通知公告",content:"恭喜您已经注册",time:"13:44"}]}return t.prototype.ionViewDidEnter=function(){var t=this;this.chatService.onReciverMsg.subscribe(function(e){console.log("==============onReciverMsg==============="),t.updateRoomContent()}),this.chatService.onConversationUpdate.subscribe(function(){console.log("==============onConversationUpdate==============="),t.updateRoomContent()}),this.updateRoomContent()},t.prototype.updateRoomContent=function(){var t=this;this.chatService.loadConversations().then(function(e){console.log("loadConversations=================>"+JSON.stringify(e)),t.talks=t.publicTalks.concat(e),t.cd.detectChanges()})},t.prototype.gotoTalkPage=function(t){1!=t.type&&2!=t.type||this.navCtrl.push("talk/chat",t)},t.prototype.showOperators=function(t){this.popoverCtrl.create(a,{},{cssClass:"talk-operator-popover"}).present({ev:t})},t}(),a=function(){return function(){}}()},194:function(t,e,n){"use strict";n.d(e,"a",function(){return l});n(0);var o=n(152),a=(n.n(o),n(112),n(55),n(158)),l=function(){function t(t,e){this.http=t,this.native=e}return t.prototype.checkUpgrade=function(){var t=this;return new Promise(function(e){t.http.get(a.b).subscribe(function(n){t.native.getVersionNumber().then(function(o){t.version2Int(o)<t.version2Int(n.version)?e(n):e(null)})},function(t){e(null)})})},t.prototype.version2Int=function(t){if(-1==t.indexOf("."))return parseInt(t);var e=t.split(".",-1),n=0;return e.forEach(function(t,o){n+=parseInt(t)*Math.pow(10,2*(e.length-o-1))}),n},t.prototype.detectionUpgrade=function(){var t=this;this.checkUpgrade().then(function(e){e&&t.native.doUpdateVersion(e.url)})},t}()},210:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=210},241:function(t,e,n){var o={"../pages/home/home.module.ngfactory":[654,3],"../pages/login/login.module.ngfactory":[655,27],"../pages/my/about/about.module.ngfactory":[656,20],"../pages/my/contact/contact.module.ngfactory":[657,35],"../pages/my/identity/identity.module.ngfactory":[658,19],"../pages/my/my/my.module.ngfactory":[659,18],"../pages/my/position/position.module.ngfactory":[660,17],"../pages/my/question-list/question-list.module.ngfactory":[661,16],"../pages/my/settings/settings.module.ngfactory":[663,15],"../pages/my/shortcut/shortcut.module.ngfactory":[662,14],"../pages/my/update-mobile/update-mobile.module.ngfactory":[664,29],"../pages/my/update-name/update-name.module.ngfactory":[665,28],"../pages/my/user-info/user-info.module.ngfactory":[668,13],"../pages/my/version-info/version-info.module.ngfactory":[666,34],"../pages/my/version-list/version-list.module.ngfactory":[667,12],"../pages/register/step1/step1.module.ngfactory":[670,26],"../pages/register/step2/step2.module.ngfactory":[669,33],"../pages/register/step3/step3.module.ngfactory":[671,32],"../pages/school/article/article.module.ngfactory":[672,1],"../pages/school/class-activity-list/class-activity-list.module.ngfactory":[673,11],"../pages/school/class-activity/class-activity.module.ngfactory":[674,25],"../pages/school/class-honor/class-honor.module.ngfactory":[675,24],"../pages/school/class-info/class-info.module.ngfactory":[676,10],"../pages/school/class-intro/class-intro.module.ngfactory":[677,23],"../pages/school/class-list/class-list.module.ngfactory":[678,9],"../pages/school/class-member/class-member.module.ngfactory":[679,8],"../pages/school/introduction/introduction.module.ngfactory":[680,7],"../pages/school/notice/notice.module.ngfactory":[682,2],"../pages/school/school-info/school-info.module.ngfactory":[683,6],"../pages/school/school-intro/school-intro.module.ngfactory":[681,22],"../pages/school/school/school.module.ngfactory":[684,5],"../pages/school/student-list/student-list.module.ngfactory":[685,0],"../pages/school/teacher-list/teacher-list.module.ngfactory":[686,21],"../pages/tabs/tabs.module.ngfactory":[687,31],"../pages/talk/chat/chat.module.ngfactory":[688,30],"../pages/talk/talk/talk.module.ngfactory":[689,4]};function a(t){var e=o[t];return e?n.e(e[1]).then(function(){return n(e[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}a.keys=function(){return Object.keys(o)},a.id=241,t.exports=a},335:function(t,e,n){"use strict";n.d(e,"a",function(){return l});n(0);var o=n(15),a=(n.n(o),n(155)),l=(n.n(a),n(77),function(){function t(t){this.storage=t,this.onMsgSubject=new o.Subject,this.onMsg=this.onMsgSubject.asObservable(),this.stateSubject=new a.BehaviorSubject(0),this.onStateChange=this.stateSubject.asObservable(),this.host="ws://localhost:8080/srzx-im/wx?userId=222",this.user=this.storage.read("user")}return t.prototype.connect=function(){var t=this;return new Promise(function(e,n){t.socket=new WebSocket(t.host),t.stateSubject.next(1),t.socket.onopen=function(){console.log("socket链接成功"),t.stateSubject.next(2),e()},t.socket.onmessage=function(e){console.log("收到信息：",e),e&&e.data&&t.onMsgSubject.next(JSON.parse(e.data))},t.socket.onclose=function(){t.stateSubject.next(0),console.log("断开连接")},t.socket.onerror=function(e){console.log("链接出现异常"),t.stateSubject.next(9)}})},t.prototype.sendMsg=function(t){this.socket&&t&&this.socket.send(JSON.stringify(t))},t}())},366:function(t,e,n){"use strict";n.d(e,"b",function(){return R}),n.d(e,"a",function(){return z});var o=n(2),a=n(182),l=n(25),i=n(22),r=n(3),s=n(54),u=n(79),c=n(136),d=n(19),p=n(173),g=n(111),h=n(7),f=n(361),m=n(36),y=n(12),b=n(28),v=n(362),_=n(78),w=n(53),C=n(119),k=n(47),S=n(29),P=n(48),M=n(363),N=n(30),j=n(6),I=n(13),F=n(33),H=n(59),x=n(10),A=n(192),O=n(16),T=n(83),U=n(110),L=o.X({encapsulation:2,styles:[],data:{}});function B(t){return o._22(0,[(t()(),o.Z(0,0,null,null,1,"span",[["class","item-badge"]],null,null,null,null,null)),(t()(),o._20(1,null,["",""]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.unreadCount)})}function E(t){return o._22(0,[(t()(),o.Z(0,0,null,null,25,"ion-item",[["class","item item-block"],["tappable",""]],null,[[null,"click"]],function(t,e,n){var o=!0;"click"===e&&(o=!1!==t.component.gotoTalkPage(t.context.$implicit)&&o);return o},a.b,a.a)),o.Y(1,1097728,null,3,l.a,[i.a,r.a,o.j,o.z,[2,s.a]],null,null),o._18(335544320,2,{contentLabel:0}),o._18(603979776,3,{_buttons:1}),o._18(603979776,4,{_icons:1}),o.Y(5,16384,null,0,u.a,[],null,null),(t()(),o._20(-1,2,["\n            "])),(t()(),o.Z(7,0,null,0,7,"ion-avatar",[["item-start",""]],null,null,null,null,null)),o.Y(8,16384,null,0,c.a,[],null,null),(t()(),o._20(-1,null,["\n                "])),(t()(),o.Z(10,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(t()(),o._20(-1,null,["\n                "])),(t()(),o.U(16777216,null,null,1,null,B)),o.Y(13,16384,null,0,d.i,[o.I,o.F],{ngIf:[0,"ngIf"]},null),(t()(),o._20(-1,null,["\n            "])),(t()(),o._20(-1,2,["\n            "])),(t()(),o.Z(16,0,null,2,1,"h2",[],null,null,null,null,null)),(t()(),o._20(17,null,["",""])),(t()(),o._20(-1,2,["\n            "])),(t()(),o.Z(19,0,null,2,1,"p",[],null,null,null,null,null)),(t()(),o._20(20,null,["",""])),(t()(),o._20(-1,2,["\n            "])),(t()(),o.Z(22,0,null,4,2,"ion-note",[["item-end",""]],null,null,null,null,null)),o.Y(23,16384,null,0,p.a,[r.a,o.j,o.z],null,null),(t()(),o._20(24,null,["\n                ","\n            "])),(t()(),o._20(-1,2,["\n        "]))],function(t,e){t(e,13,0,e.context.$implicit.unreadCount>0)},function(t,e){t(e,10,0,o._2(1,"",e.context.$implicit.image,"")),t(e,17,0,e.context.$implicit.name),t(e,20,0,e.context.$implicit.content),t(e,24,0,e.context.$implicit.time)})}function q(t){return o._22(0,[(t()(),o.Z(0,0,null,null,22,"ion-header",[],null,null,null,null,null)),o.Y(1,16384,null,0,g.a,[r.a,o.j,o.z,[2,h.a]],null,null),(t()(),o._20(-1,null,["\n    "])),(t()(),o.Z(3,0,null,null,18,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,f.b,f.a)),o.Y(4,49152,null,0,m.a,[y.a,[2,h.a],[2,b.a],r.a,o.j,o.z],null,null),(t()(),o._20(-1,3,["\n        "])),(t()(),o.Z(6,0,null,3,2,"ion-title",[],null,null,null,v.b,v.a)),o.Y(7,49152,null,0,_.a,[r.a,o.j,o.z,[2,w.a],[2,m.a]],null,null),(t()(),o._20(-1,0,["校信"])),(t()(),o._20(-1,3,["\n        "])),(t()(),o.Z(10,0,null,2,10,"ion-buttons",[["end",""]],null,null,null,null,null)),o.Y(11,16384,null,1,C.a,[r.a,o.j,o.z,[2,w.a],[2,m.a]],null,null),o._18(603979776,1,{_buttons:1}),(t()(),o._20(-1,null,["\n            "])),(t()(),o.Z(14,0,null,null,5,"button",[["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(t,e,n){var o=!0;"click"===e&&(o=!1!==t.component.showOperators(n)&&o);return o},k.b,k.a)),o.Y(15,1097728,[[1,4]],0,S.a,[[8,""],r.a,o.j,o.z],null,null),(t()(),o._20(-1,0,["\n              "])),(t()(),o.Z(17,0,null,0,1,"ion-icon",[["name","options"],["role","img"]],[[2,"hide",null]],null,null,null,null)),o.Y(18,147456,null,0,P.a,[r.a,o.j,o.z],{name:[0,"name"]},null),(t()(),o._20(-1,0,["\n            "])),(t()(),o._20(-1,null,["\n          "])),(t()(),o._20(-1,3,["\n    "])),(t()(),o._20(-1,null,["\n"])),(t()(),o._20(-1,null,["\n\n"])),(t()(),o.Z(24,0,null,null,9,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,M.b,M.a)),o.Y(25,4374528,null,0,N.a,[r.a,j.a,I.a,o.j,o.z,y.a,F.a,o.u,[2,h.a],[2,b.a]],null,null),(t()(),o._20(-1,1,["\n\n    "])),(t()(),o.Z(27,0,null,1,5,"ion-list",[],null,null,null,null,null)),o.Y(28,16384,null,0,H.a,[r.a,o.j,o.z,j.a,x.l,I.a],null,null),(t()(),o._20(-1,null,["\n        "])),(t()(),o.U(16777216,null,null,1,null,E)),o.Y(31,802816,null,0,d.h,[o.I,o.F,o.p],{ngForOf:[0,"ngForOf"]},null),(t()(),o._20(-1,null,["\n        \n    "])),(t()(),o._20(-1,1,["\n\n"]))],function(t,e){var n=e.component;t(e,18,0,"options"),t(e,31,0,n.talks)},function(t,e){t(e,3,0,o._13(e,4)._hidden,o._13(e,4)._sbPadding),t(e,17,0,o._13(e,18)._hidden),t(e,24,0,o._13(e,25).statusbarPadding,o._13(e,25)._hasRefresher)})}var R=o.V("page-talk",A.b,function(t){return o._22(0,[(t()(),o.Z(0,0,null,null,1,"page-talk",[],null,null,null,q,L)),o.Y(1,49152,null,0,A.b,[b.a,O.a,T.a,o.g,U.a],null,null)],null,null)},{},{},[]),Y=o.X({encapsulation:2,styles:[],data:{}});function Z(t){return o._22(0,[(t()(),o._20(-1,null,["\n        "])),(t()(),o.Z(1,0,null,null,18,"ion-list",[["class","popover-page"]],null,null,null,null,null)),o.Y(2,16384,null,0,H.a,[r.a,o.j,o.z,j.a,x.l,I.a],null,null),(t()(),o._20(-1,null,["\n            "])),(t()(),o.Z(4,0,null,null,6,"ion-item",[["class","item item-block"],["tappable",""]],null,null,null,a.b,a.a)),o.Y(5,1097728,null,3,l.a,[i.a,r.a,o.j,o.z,[2,s.a]],null,null),o._18(335544320,1,{contentLabel:0}),o._18(603979776,2,{_buttons:1}),o._18(603979776,3,{_icons:1}),o.Y(9,16384,null,0,u.a,[],null,null),(t()(),o._20(-1,2,["发起对话"])),(t()(),o._20(-1,null,["\n            "])),(t()(),o.Z(12,0,null,null,6,"ion-item",[["class","item item-block"],["tappable",""]],null,null,null,a.b,a.a)),o.Y(13,1097728,null,3,l.a,[i.a,r.a,o.j,o.z,[2,s.a]],null,null),o._18(335544320,4,{contentLabel:0}),o._18(603979776,5,{_buttons:1}),o._18(603979776,6,{_icons:1}),o.Y(17,16384,null,0,u.a,[],null,null),(t()(),o._20(-1,2,["发起群聊"])),(t()(),o._20(-1,null,["\n        "])),(t()(),o._20(-1,null,["\n    "]))],null,null)}var z=o.V("talk-operator",A.a,function(t){return o._22(0,[(t()(),o.Z(0,0,null,null,1,"talk-operator",[],null,null,null,Z,Y)),o.Y(1,49152,null,0,A.a,[],null,null)],null,null)},{},{},[])},367:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(37),a=n(2),l=(n(0),n(58),n(75)),i=n(76),r=(n(77),n(82)),s=function(){function t(t,e,n,o,a,l,i,r,s,u){var c=this;this.platform=t,this.keyboard1=e,this.ionicApp=n,this.app=o,this.nativeService=i,this.chatService=r,this.dbService=s,this.jpush=u,this.rootPage="tabs",this.backButtonPressed=!1,t.ready().then(function(){a.styleDefault(),c.registerExistAppOnBackBtn(),c.loginChat(),c.dbService.createTable(),c.initJPush(),l.hide()})}return t.prototype.initJPush=function(){this.nativeService.isMobile()&&this.jpush.init().then()},t.prototype.registerExistAppOnBackBtn=function(){var t=this;this.nativeService.isAndroid()&&this.platform.registerBackButtonAction(function(){if(t.keyboard1.isOpen())t.keyboard1.close();else try{var e=t.ionicApp._modalPortal.getActive();if(e)return void e.dismiss();if(t.ionicApp._toastPortal.getActive())return void t.ionicApp._toastPortal.getActive().dismiss();if(t.ionicApp._loadingPortal.getActive())return void t.ionicApp._loadingPortal.getActive().dismiss();var n=t.app.getActiveNav();if(n.canGoBack())return n.pop();t.showExit()}catch(t){alert("出现系统异常"+t)}},1)},t.prototype.showExit=function(){var t=this;this.backButtonPressed?this.platform.exitApp():(this.nativeService.showToast("再按一次退出应用"),this.backButtonPressed=!0,setTimeout(function(){return t.backButtonPressed=!1},2e3))},t.prototype.loginChat=function(){var t=this;this.chatService.login("test","test").then(function(){t.chatService.registerMsgListener()}).catch(function(t){console.log("登陆失败===>"+JSON.stringify(t))})},t}(),u=n(159),c=n(160),d=n(161),p=n(162),g=n(141),h=(n(192),n(164)),f=function(){return function(){}}(),m=n(56),y=n(352),b=n(353),v=n(354),_=n(355),w=n(356),C=n(357),k=n(358),S=n(359),P=n(360),M=n(653),N=n(49),j=n(68),I=n(7),F=n(28),H=n(12),x=n(3),A=n(6),O=n(10),T=n(38),U=n(23),L=n(13),B=n(33),E=n(55),q=n(83),R=n(163),Y=a.X({encapsulation:2,styles:[],data:{}});function Z(t){return a._22(0,[a._18(402653184,1,{nav:0}),(t()(),a.Z(1,0,null,null,2,"ion-nav",[],null,null,null,M.b,M.a)),a._17(6144,null,N.a,null,[j.a]),a.Y(3,4374528,[[1,4],["myNav",4]],0,j.a,[[2,I.a],[2,F.a],H.a,x.a,A.a,a.j,a.u,a.z,a.i,O.l,T.a,[2,U.a],L.a,a.k],{root:[0,"root"]},null),(t()(),a._20(-1,null,["\n"]))],function(t,e){t(e,3,0,e.component.rootPage)},null)}var z=a.V("ng-component",s,function(t){return a._22(0,[(t()(),a.Z(0,0,null,null,1,"ng-component",[],null,null,null,Z,Y)),a.Y(1,49152,null,0,s,[A.a,B.a,m.b,H.a,l.a,i.a,E.a,q.a,R.a,r.a],null,null)],null,null)},{},{},[]),V=n(366),J=n(19),D=n(166),G=n(27),X=n(120),$=n(123),Q=n(165),W=n(22),K=n(45),tt=n(115),et=n(181),nt=n(65),ot=n(52),at=n(170),lt=n(93),it=n(110),rt=n(168),st=n(177),ut=n(114),ct=n(113),dt=n(112),pt=n(194),gt=n(335),ht=n(351),ft=n(167),mt=n(42),yt=n(140),bt=n(169),vt=a.W(f,[m.b],function(t){return a._10([a._11(512,a.i,a.S,[[8,[y.a,b.a,v.a,_.a,w.a,C.a,k.a,S.a,P.a,z,V.a]],[3,a.i],a.s]),a._11(4608,g.c,g.c,[]),a._11(4608,g.i,g.b,[]),a._11(5120,g.l,g.m,[]),a._11(4608,g.k,g.k,[g.c,g.i,g.l]),a._11(4608,g.h,g.a,[]),a._11(5120,g.e,g.n,[g.k,g.h]),a._11(5120,a.r,a._9,[[3,a.r]]),a._11(4608,J.k,J.j,[a.r,[2,J.s]]),a._11(5120,a.b,a._0,[]),a._11(5120,a.p,a._6,[]),a._11(5120,a.q,a._7,[]),a._11(4608,o.c,o.q,[J.c]),a._11(6144,a.D,null,[o.c]),a._11(4608,o.f,D.a,[]),a._11(5120,o.d,function(t,e,n,a,l){return[new o.k(t,e),new o.o(n),new o.n(a,l)]},[J.c,a.u,J.c,J.c,o.f]),a._11(4608,o.e,o.e,[o.d,a.u]),a._11(135680,o.m,o.m,[J.c]),a._11(4608,o.l,o.l,[o.e,o.m]),a._11(6144,a.B,null,[o.l]),a._11(6144,o.p,null,[o.m]),a._11(4608,a.G,a.G,[a.u]),a._11(4608,o.h,o.h,[J.c]),a._11(4608,o.i,o.i,[J.c]),a._11(4608,G.t,G.t,[]),a._11(4608,G.d,G.d,[]),a._11(4608,X.a,X.a,[H.a,x.a]),a._11(4608,$.a,$.a,[H.a,x.a]),a._11(4608,Q.a,Q.a,[]),a._11(4608,W.a,W.a,[]),a._11(4608,K.a,K.a,[A.a]),a._11(4608,B.a,B.a,[x.a,A.a,a.u,L.a]),a._11(4608,tt.a,tt.a,[H.a,x.a]),a._11(5120,J.f,et.c,[J.q,[2,J.a],x.a]),a._11(4608,J.e,J.e,[J.f]),a._11(5120,nt.b,nt.d,[H.a,nt.a]),a._11(5120,U.a,U.b,[H.a,nt.b,J.e,ot.b,a.i]),a._11(4608,at.a,at.a,[H.a,x.a,U.a]),a._11(4608,lt.a,lt.a,[H.a,x.a]),a._11(4608,it.a,it.a,[H.a,x.a,U.a]),a._11(4608,rt.a,rt.a,[x.a,A.a,L.a,H.a,O.l]),a._11(4608,st.a,st.a,[H.a,x.a]),a._11(4608,T.a,T.a,[A.a,x.a]),a._11(4608,l.a,l.a,[]),a._11(4608,i.a,i.a,[]),a._11(4608,u.a,u.a,[]),a._11(4608,c.a,c.a,[]),a._11(4608,d.a,d.a,[]),a._11(4608,p.a,p.a,[]),a._11(4608,h.a,h.a,[]),a._11(4608,ut.a,ut.a,[]),a._11(4608,E.a,E.a,[A.a,st.a,$.a,l.a,i.a,u.a,c.a,d.a,p.a,tt.a]),a._11(4608,ct.a,ct.a,[]),a._11(4608,dt.a,dt.a,[g.e,st.a,E.a,ct.a,ut.a]),a._11(4608,pt.a,pt.a,[dt.a,E.a]),a._11(4608,gt.a,gt.a,[ut.a]),a._11(4608,q.a,q.a,[E.a]),a._11(4608,R.a,R.a,[h.a]),a._11(4608,r.a,r.a,[]),a._11(512,g.f,g.f,[]),a._11(512,J.b,J.b,[]),a._11(512,a.k,ht.a,[]),a._11(256,x.b,{tabsHideOnSubPages:"true",pageTransition:"ios-transition",backButtonIcon:"arrow-back",backButtonText:"",mode:"ios",swipeBackEnabled:!0},[]),a._11(1024,ft.a,ft.b,[]),a._11(1024,A.a,A.b,[o.b,ft.a,a.u]),a._11(1024,x.a,x.c,[x.b,A.a]),a._11(512,L.a,L.a,[A.a]),a._11(512,mt.a,mt.a,[]),a._11(512,H.a,H.a,[x.a,A.a,[2,mt.a]]),a._11(512,O.l,O.l,[H.a]),a._11(256,nt.a,{links:[{loadChildren:"../pages/home/home.module.ngfactory#HomePageModuleNgFactory",name:"home",segment:"home",priority:"low",defaultHistory:[]},{loadChildren:"../pages/login/login.module.ngfactory#LoginPageModuleNgFactory",name:"login",segment:"login",priority:"low",defaultHistory:[]},{loadChildren:"../pages/my/about/about.module.ngfactory#AboutPageModuleNgFactory",name:"my/about",segment:"about",priority:"low",defaultHistory:[]},{loadChildren:"../pages/my/contact/contact.module.ngfactory#ContactPageModuleNgFactory",name:"my/contact",segment:"contact",priority:"low",defaultHistory:[]},{loadChildren:"../pages/my/identity/identity.module.ngfactory#IdentityPageModuleNgFactory",name:"my/identity",segment:"identity",priority:"low",defaultHistory:[]},{loadChildren:"../pages/my/my/my.module.ngfactory#MyPageModuleNgFactory",name:"my/my",segment:"my",priority:"low",defaultHistory:[]},{loadChildren:"../pages/my/position/position.module.ngfactory#PositionPageModuleNgFactory",name:"my/position",segment:"position",priority:"low",defaultHistory:[]},{loadChildren:"../pages/my/question-list/question-list.module.ngfactory#QuestionListPageModuleNgFactory",name:"my/questionList",segment:"question-list",priority:"low",defaultHistory:[]},{loadChildren:"../pages/my/shortcut/shortcut.module.ngfactory#ShortcutPageModuleNgFactory",name:"my/shortcut",segment:"shortcut",priority:"low",defaultHistory:[]},{loadChildren:"../pages/my/settings/settings.module.ngfactory#SettingsModuleNgFactory",name:"my/settings",segment:"settings",priority:"low",defaultHistory:[]},{loadChildren:"../pages/my/update-mobile/update-mobile.module.ngfactory#UpdateMobilePageModuleNgFactory",name:"my/updateMobile",segment:"update-mobile",priority:"low",defaultHistory:[]},{loadChildren:"../pages/my/update-name/update-name.module.ngfactory#UpdateNamePageModuleNgFactory",name:"my/updateName",segment:"update-name",priority:"low",defaultHistory:[]},{loadChildren:"../pages/my/version-info/version-info.module.ngfactory#VersionInfoPageModuleNgFactory",name:"my/versionInfo",segment:"version-info",priority:"low",defaultHistory:[]},{loadChildren:"../pages/my/version-list/version-list.module.ngfactory#VersionListPageModuleNgFactory",name:"my/versionList",segment:"version-list",priority:"low",defaultHistory:[]},{loadChildren:"../pages/my/user-info/user-info.module.ngfactory#UserInfoModuleNgFactory",name:"my/userInfo",segment:"user-info",priority:"low",defaultHistory:[]},{loadChildren:"../pages/register/step2/step2.module.ngfactory#Step2PageModuleNgFactory",name:"register/step2",segment:"step2",priority:"low",defaultHistory:[]},{loadChildren:"../pages/register/step1/step1.module.ngfactory#Step1PageModuleNgFactory",name:"register/step1",segment:"step1",priority:"low",defaultHistory:[]},{loadChildren:"../pages/register/step3/step3.module.ngfactory#Step3PageModuleNgFactory",name:"register/step3",segment:"step3",priority:"low",defaultHistory:[]},{loadChildren:"../pages/school/article/article.module.ngfactory#ArticlePageModuleNgFactory",name:"school/article",segment:"article",priority:"low",defaultHistory:[]},{loadChildren:"../pages/school/class-activity-list/class-activity-list.module.ngfactory#ClassActivityListPageModuleNgFactory",name:"school/classActivityList",segment:"class-activity-list",priority:"low",defaultHistory:[]},{loadChildren:"../pages/school/class-activity/class-activity.module.ngfactory#ClassActivityPageModuleNgFactory",name:"school/classActivity",segment:"class-activity",priority:"low",defaultHistory:[]},{loadChildren:"../pages/school/class-honor/class-honor.module.ngfactory#ClassHonorPageModuleNgFactory",name:"school/classHonor",segment:"class-honor",priority:"low",defaultHistory:[]},{loadChildren:"../pages/school/class-info/class-info.module.ngfactory#ClassInfoPageModuleNgFactory",name:"school/classInfo",segment:"class-info",priority:"low",defaultHistory:[]},{loadChildren:"../pages/school/class-intro/class-intro.module.ngfactory#ClassIntroPageModuleNgFactory",name:"school/classIntro",segment:"class-intro",priority:"low",defaultHistory:[]},{loadChildren:"../pages/school/class-list/class-list.module.ngfactory#ClassListPageModuleNgFactory",name:"school/classList",segment:"class-list",priority:"low",defaultHistory:[]},{loadChildren:"../pages/school/class-member/class-member.module.ngfactory#ClassMemberPageModuleNgFactory",name:"school/classMember",segment:"class-member",priority:"low",defaultHistory:[]},{loadChildren:"../pages/school/introduction/introduction.module.ngfactory#IntroductionPageModuleNgFactory",name:"school/introduction",segment:"introduction",priority:"low",defaultHistory:[]},{loadChildren:"../pages/school/school-intro/school-intro.module.ngfactory#SchoolIntroPageModuleNgFactory",name:"school/schoolIntro",segment:"school-intro",priority:"low",defaultHistory:[]},{loadChildren:"../pages/school/notice/notice.module.ngfactory#NoticePageModuleNgFactory",name:"school/notice",segment:"notice",priority:"low",defaultHistory:[]},{loadChildren:"../pages/school/school-info/school-info.module.ngfactory#SchoolInfoPageModuleNgFactory",name:"school/schoolInfo",segment:"school-info",priority:"low",defaultHistory:[]},{loadChildren:"../pages/school/school/school.module.ngfactory#SchoolPageModuleNgFactory",name:"school/school",segment:"school",priority:"low",defaultHistory:[]},{loadChildren:"../pages/school/student-list/student-list.module.ngfactory#StudentListPageModuleNgFactory",name:"school/studentList",segment:"student-list",priority:"low",defaultHistory:[]},{loadChildren:"../pages/school/teacher-list/teacher-list.module.ngfactory#TeacherListPageModuleNgFactory",name:"school/teacherList",segment:"teacher-list",priority:"low",defaultHistory:[]},{loadChildren:"../pages/tabs/tabs.module.ngfactory#TabsPageModuleNgFactory",name:"tabs",segment:"tabs",priority:"low",defaultHistory:[]},{loadChildren:"../pages/talk/chat/chat.module.ngfactory#ChatPageModuleNgFactory",name:"talk/chat",segment:"chat",priority:"low",defaultHistory:[]},{loadChildren:"../pages/talk/talk/talk.module.ngfactory#TalkPageModuleNgFactory",name:"talk/talk",segment:"talk",priority:"low",defaultHistory:[]}]},[]),a._11(512,a.h,a.h,[]),a._11(512,yt.a,yt.a,[a.h]),a._11(1024,ot.b,ot.c,[yt.a,a.o]),a._11(1024,a.c,function(t,e,n,a,l,i,r,s,u,c,d,p,g){return[o.s(t),bt.a(e),Q.b(n,a),rt.b(l,i,r,s,u),ot.d(c,d,p,g)]},[[2,a.t],x.a,A.a,L.a,x.a,A.a,L.a,H.a,O.l,x.a,nt.a,ot.b,a.u]),a._11(512,a.d,a.d,[[2,a.c]]),a._11(131584,a.f,a.f,[a.u,a.T,a.o,a.k,a.i,a.d]),a._11(512,a.e,a.e,[a.f]),a._11(512,o.a,o.a,[[3,o.a]]),a._11(512,G.r,G.r,[]),a._11(512,G.g,G.g,[]),a._11(512,G.o,G.o,[]),a._11(512,et.a,et.a,[]),a._11(512,f,f,[]),a._11(256,m.a,s,[]),a._11(256,J.a,"/",[])])});Object(a.M)(),Object(o.j)().bootstrapModuleFactory(vt)},55:function(t,e,n){"use strict";n.d(e,"a",function(){return o});n(0),n(58),n(75),n(76),n(159),n(160),n(161),n(162);var o=function(){function t(t,e,n,o,a,l,i,r,s,u){this.platform=t,this.toastCtrl=e,this.alertCtrl=n,this.statusBar=o,this.splashScreen=a,this.appVersion=l,this.toast=i,this.network=r,this.appMinimize=s,this.loadingCtrl=u,this.loadingIsOpen=!1}return t.prototype.warn=function(t){console.log("%cNativeService/"+t,"color:#e8c406")},t.prototype.doUpdateVersion=function(t){var e=this;this.alertCtrl.create({title:"升级",subTitle:"发现新版本,是否立即升级？",buttons:[{text:"取消"},{text:"确定",handler:function(){e.downloadApp(t)}}]}).present()},t.prototype.downloadApp=function(t){this.isAndroid()&&window.AppUpdate&&window.AppUpdate.update(t,"school.apk")},t.prototype.isMobile=function(){return this.platform.is("mobile")&&!this.platform.is("mobileweb")},t.prototype.isAndroid=function(){return this.isMobile()&&this.platform.is("android")},t.prototype.isIos=function(){return this.isMobile()&&(this.platform.is("ios")||this.platform.is("ipad")||this.platform.is("iphone"))},t.prototype.showToast=function(t,e){void 0===t&&(t="操作完成"),void 0===e&&(e=2e3),this.isMobile()?this.toast.show(t,String(e),"bottom").subscribe():this.toastCtrl.create({message:t,duration:e,position:"middle",showCloseButton:!1}).present()},t.prototype.showLoading=function(t){var e=this;void 0===t&&(t=""),this.loadingIsOpen||(this.loadingIsOpen=!0,this.loading=this.loadingCtrl.create({content:t}),this.loading.present(),setTimeout(function(){e.loadingIsOpen&&e.loading.dismiss(),e.loadingIsOpen=!1},1e4))},t.prototype.hideLoading=function(){this.loadingIsOpen&&this.loading.dismiss(),this.loadingIsOpen=!1},t.prototype.getNetworkType=function(){return this.isMobile()?this.network.type:"wifi"},t.prototype.isConnecting=function(){return"none"!=this.getNetworkType()},t.prototype.getVersionNumber=function(){var t=this;return new Promise(function(e){t.appVersion.getVersionNumber().then(function(t){e(t)}).catch(function(e){t.warn("getVersionNumber:"+e)})})},t.prototype.getAppName=function(){var t=this;return new Promise(function(e){t.appVersion.getAppName().then(function(t){e(t)}).catch(function(e){t.warn("getAppName:"+e)})})},t.prototype.getPackageName=function(){var t=this;return new Promise(function(e){t.appVersion.getPackageName().then(function(t){e(t)}).catch(function(e){t.warn("getPackageName:"+e)})})},t.prototype.statusBarStyleDefault=function(){this.statusBar.styleDefault()},t.prototype.splashScreenHide=function(){this.splashScreen.hide()},t.prototype.minimize=function(){this.appMinimize.minimize()},t}()},77:function(t,e,n){"use strict";n(112),n(114),n(113);var o=n(158);n.d(e,"a",function(){return o.c}),n.d(e,"b",function(){return o.d});n(55),n(194),n(335),n(83),n(163)},83:function(t,e,n){"use strict";n.d(e,"a",function(){return a});n(0);var o=n(15),a=(n.n(o),n(55),function(){function t(t){this.nativeService=t,this.onReciverMsgSubject=new o.Subject,this.onReciverMsg=this.onReciverMsgSubject.asObservable(),this.onConversationUpdateSubject=new o.Subject,this.onConversationUpdate=this.onConversationUpdateSubject.asObservable()}return t.prototype.login=function(t,e){var n=this;return new Promise(function(o,a){n.nativeService.isMobile()?Chat.login(function(t){o()},function(t){a(t)},t,e):o()})},t.prototype.registerMsgListener=function(){var t=this;this.nativeService.isMobile()&&Chat.registerMsgListener(function(e){e&&e.type&&(1==e.type?e.data&&e.data.length&&t.onReciverMsgSubject.next(e.data):2==e.type&&t.onConversationUpdateSubject.next())})},t.prototype.loadMessages=function(t,e,n){var o=this;return void 0===n&&(n=20),new Promise(function(a){o.nativeService.isMobile()&&Chat.loadMessages(function(t){a(t)},null,t,e,n)})},t.prototype.getUnreadMsgCount=function(t){var e=this;return new Promise(function(n){e.nativeService.isMobile()&&Chat.getUnreadMsgCount(function(t){n(t||0)},null,t)})},t.prototype.loadConversations=function(){var t=this;return new Promise(function(e){t.nativeService.isMobile()&&Chat.loadConversations(function(t){e(t)},null)})},t.prototype.sendTxtMsg=function(t,e,n){this.nativeService.isMobile()&&Chat.sendTxtMsg(t,e,n)},t}())}},[367]);