{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"35.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginPage } from './login';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n  ],\n  exports: [\n    LoginPage\n  ]\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, Loading } from 'ionic-angular';\nimport { StorageService, HttpService, GlobalData, DEFAULT_SCHOOL_NAME } from '../../providers';\n\n@IonicPage({\n    name: 'login'\n})\n@Component({\n    selector: 'page-login',\n    templateUrl: 'login.html',\n})\nexport class LoginPage {\n\n    user = {\n        loginId: '',\n        password: ''\n    }\n\n    school: any = {};\n\n    loading: Loading;\n\n    rememberMe: boolean = true;\n\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public storage: StorageService,\n        public httpService: HttpService,\n        private globalData: GlobalData,\n        private loadingCtrl: LoadingController\n    ) {\n    }\n\n    ionViewDidLoad() {\n        this.school = this.storage.read('school', {\n            name: DEFAULT_SCHOOL_NAME\n        })\n        if(this.user == null) {\n            this.user = {\n                loginId: '',\n                password: ''\n            };\n        }\n        let loginId = this.storage.read('loginId');\n        if(loginId) {\n            this.user.loginId = loginId + '';\n        }\n    }\n\n    /**\n     * 登录\n     */\n    doLogin() {\n\n        this.loading = this.loadingCtrl.create({\n            content: '正在登录...',\n            dismissOnPageChange: true\n        });\n        this.loading.present();\n        if(this.rememberMe) {\n            this.storage.write('loginId', this.user.loginId);\n        } else {\n            this.storage.remove('loginId');\n        }\n\n        this.httpService.postFormData('sys/login.do', this.user).subscribe((user: any) => {\n            if (user.id) {\n                this.globalData.user = user;\n                this.storage.write(\"user\", user);\n                this.navCtrl.pop();\n                \n            }\n            this.loading.dismiss();\n        }, err => {\n            this.loading.dismiss();\n        });\n    }\n\n    /**\n     * 打开注册页面\n     */\n    doRegister() {\n        this.navCtrl.push('register/step1');\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}